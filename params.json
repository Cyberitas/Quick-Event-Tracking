{"name":"Quick-event-tracking","body":"#What Google Analytics Plugin?\r\n\r\nIt's a jQuery plugin that tries to standardise and simplify the way event tracking is implemented within a project. It makes use of HTML5 data attributes and jQuery to try and minimise the effort and cross cutting concerns that tracking often puts into a project.\r\n\r\nIt was created by Robert Stevenson-Leggett at <a href=\"http://www.building-blocks.com\">Building Blocks</a> and is licenced under the MIT licence.\r\n\r\n#Version History\r\n - 0.8 - Bug fix with *BREAKING CHANGE!* $.ga.trackEvent has has its signature changed.\r\n - 0.7 - Added support for non interactive option\r\n - 0.6 - Bug fixes\r\n - 0.5 - Add gaTrackEvent\r\n - 0.4 - Added comments and push to github\r\n - 0.3 - Bug fixes\r\n - 0.2 - Support for direct calling\r\n - 0.1 - Initial version\r\n\r\n#Usage\r\n\r\nThere are 3 ways to use the plugin. Not all of these will fit every situation.\r\n\r\n##Method 1 - Simple Unobtrusive Tracking\r\n\r\nUnobtrusive in combination with server side or just HTML. You output a span or any other element to the page and include a class of \"track-me\" for example:\r\n\r\n\t<span class=\"track-me\" data-ga-category=\"Login\" data-ga-action=\"Failed\" />\r\n\r\nThen in your Javascript initialisation code, you just call the plugin thusly:\r\n\r\n\t$('.track-me').gaTrackEventUnobtrusive();\r\n\r\nIn one ASP.NET project, I have encapsulated the span inside a user control that can be hidden and shown at will and also has a setting to only track an event once for a user e.g. Registering. via the use of cookies (I may move this functionality into the plugin soon).\r\n\r\n##Method 2 - Unobtrusively Tracking An User Interaction\r\n\r\nMany of the events that we would like to track are things which do not trigger a post to the server. In this case we need to call the event on a user interaction. For example if we want to track removing of bookmarks from a list and this is an ajax request.\r\n\r\nIf we had an anchor tag that triggered the removal of the bookmark.\r\n\r\n\t<a href=\"/remove-without-javascript.aspx\" data-ga-category=\"Bookmarks\" data-ga-action=\"Removed\" data-ga-label=\"url-to-bookmark.aspx\" class=\"remove-bookmark track-click\">Remove</a>\r\n\r\nNotice we've given it a class of \"track-click\".  We need to call the plugin in our Javascript initialisation code like so:\r\n\r\n\t$('.track-click').gaTrackEventUnobtrusive({\r\n\r\n\t\tuseEvent:true,\r\n\r\n\t\tuseLabel:true,\r\n\r\n\t\tevent: click\r\n\r\n\t});\r\n\r\nThis will look for any element with the class of \"track-click\" and track clicks on it based on whatever data was attached via the data attributes. We can control the event here for example we could change \"click\" to hover or any other event. \r\n\r\n##Method 3 - Tracking An User Interaction Without The Data Attributes.\r\n\r\nSometimes for some reason you might not want to use data attributes directly on the element in your user controls or html, so the plugin provides a way to add the attributes from javascript. This is good for adding events to an existing code base, you could hook onto existing classes \r\n\r\n\t//Set up for downloads\r\n\t$('.track-download-pdf').gaTrackEvent({\r\n\r\n\t\tcategory: 'Download',\r\n\r\n\t\taction: 'PDF',\r\n\r\n\t\tlabelAttribute: \"href\",\r\n\r\n\t\tuseEvent: true,\r\n\r\n\t\tevent: 'click'\r\n\r\n\t});\r\n\r\nSo what this will do is look for any element with the class \"track-download-pdf\" and add the data attributes for tracking. Notice it also uses the href of the element as the label element.\r\n\r\n## Method 4 - Calling Tracking directly\r\n\r\nThis method is useful if you have existing javascript code that you want to add tracking to.\r\n\r\nThis works like so:\r\n\r\n\t$.ga.trackEvent({ category : 'Category', action : 'Action', label : 'Label', value: 0.1, nonInteractive: false });\r\n\r\n##Available options\r\n\r\nThere are many options to make the plugin a bit more flexible. Including callback hook functions to evaluate whether to perform tracking These are the default options, you can override any of these by passing them to the plugin.\r\n\r\n    var defaultOptions = {\r\n        \r\n\t\t//The category attribute\r\n        categoryAttribute: 'data-ga-category',\r\n        \r\n\t\t//The action attribute\r\n        actionAttribute: 'data-ga-action',\r\n        \r\n\t\t//The label attribute (could be changed to href when tracking file downloads)\r\n        labelAttribute: 'data-ga-label',\r\n        \r\n\t\t//The value attribute (must be integer)\r\n        valueAttribute: 'data-ga-value',\r\n        \r\n\t\t//An attribute to indicate whether the event is non-interactive (defaults to false)\r\n        noninteractiveAttribute: 'data-ga-noninteractive',\r\n        \r\n\t\t//Whether to look for the label\r\n        useLabel: true,\r\n        \r\n\t\t//Whether to look for a value\r\n        useValue: false,\r\n        \r\n\t\t//false = track as soon as the plugin loads, true = bind to an event\r\n        useEvent: false,\r\n        \r\n\t\t//The event to bind to if useEvent is true\r\n        event: 'click',\r\n        \r\n\t\t//A method to call to check whether or not we should call the tracking when the event is clicked\r\n        valid: function (elem, e) { return true; },\r\n        \r\n\t\t//Tracking complete\r\n        complete: function (elem, e) { },\r\n        \r\n\t\t//Category should always be set if using gaTrackEvent\r\n        category: 'Unspecified',\r\n        \r\n\t\t//Action should always be set if using gaTrackEvent\r\n        action: 'Unspecified',\r\n        \r\n\t\t//Label can be specified if using gaTrackEvent and useLabel == true\r\n        label: 'Unspecified',\r\n        \r\n\t\t//value can be specified if using gaTrackEvent and useValue == true\r\n        value: 'Unspecified',\r\n        \r\n\t\t//non-interactive - only used if using gaTrackEvent\r\n        nonInteractive: false\r\n    };\r\n","tagline":"Unobtrusive Google Analytics Event Tracking jQuery ","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}